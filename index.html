<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Jasongram</title>
        <style>
            body {
                text-align: center;
                background-color: rgb(173, 35, 173);
                color: rgb(0, 0, 0);
            }
        </style>
    </head>

    <body>
        <center>
            <img src="logo_banner.png" , width="50%" />
            <h1>Welcome to Jasongram!</h1>
            <p>Name: <span id="name1"></span></p>
            <p>Image: <img id="image1" width="100" height="100" /></p>
            <p>Age: <span id="age1"></span></p>
            <p>Bio: <span id="bio1"></span></p>
            <p>Pronouns: <span id="pronouns1"></span></p>

            <p>Name: <span id="name2"></span></p>
            <p>Image: <img id="image2" width="100" height="100" /></p>
            <p>Age: <span id="age2"></span></p>
            <p>Bio: <span id="bio2"></span></p>
            <p>Pronouns: <span id="pronouns2"></span></p>

            <iframe
                src="https://thunkable.site/w/hmLa1PjxaNzJ5EsJ9rKJ9"
                title="Jasongram ProfileApp"
                height="725"
                width="450"
            ></iframe>
        </center>

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries

            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyAqv40SimSz3RsOpkRts4lthyKLsBKDOyQ",
                authDomain: "profileapp-72019.firebaseapp.com",
                databaseURL:
                    "https://profileapp-72019-default-rtdb.firebaseio.com",
                projectId: "profileapp-72019",
                storageBucket: "profileapp-72019.appspot.com",
                messagingSenderId: "100764384447",
                appId: "1:100764384447:web:1e1dfbb6c02a931b571a0a",
            };

            //Initialize Firebase
            const app = initializeApp(firebaseConfig);

            // get {getDataBase, set, get, update, remove, ref, child}
            // from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";

            // const database = getDataBase();

            // var ID1 = "JZbU8EL0KHQYqG58Q8g3OePZPoY2";
            // var ID2 = "YzZe1bxjonYv4Nt7ZnMmcSCMhOe2";

            // const databasePath = '/';

            // For the first user (ID1)
            // const ref1 = ref(database, databasePath + 'JZbU8EL0KHQYqG58Q8g3OePZPoY2');

            // For the second user (ID2)
            // const ref2 = ref(database, databasePath + 'YzZe1bxjonYv4Nt7ZnMmcSCMhOe2');

            // var name1 = document.querySelector("#name1");
            // var age1 = document.querySelector("#age1");

            // function FindData(userID) {
            //     const dbref = ref(db);

            //     get(child(dbref, "/JZbU8EL0KHQYqG58Q8g3OePZPoY2"))
            //     .then((snapshot)=>{
            //         if(snapshot.exists()){
            //             name1.innerHTML = snapshot.val().name;
            //             age1.innerHTML = snapshot.val().age;
            //         } else {
            //             alert("No data found");
            //         }
            //     })
            //     .catch((error)=>{
            //         alert(error)
            //     })

            // }
            // FindData(ID1);
            // get(ref1).then((snapshot1) => {
            //     const data1 = snapshot1.val();
            //     if (data1) {
            //         updateTextElement('name1', data1.name);
            //         updateTextElement('age1', data1.age);
            //         updateTextElement('bio1', data1.bio);
            //         updateTextElement('pronouns1', data1.pronouns);
            //         updateImageElement('image1', data1.image);
            //     } else {
            //         console.error("Data for User 1 not found.");
            //     }
            //     }).catch((error) => {
            //     console.error("Error fetching data for User 1:", error);
            // });

            // Reference to the Firebase database
            const database = firebase.database();

            // Function to display user data
            function displayUserData(userId) {
                const userRef = database.ref(userId);

                userRef.once("value", (snapshot) => {
                    const user = snapshot.val();
                    if (user) {
                        // Update HTML elements with user data
                        document.getElementById("name" + userId).textContent =
                            user.name;
                        document.getElementById("age" + userId).textContent =
                            user.age;
                        document.getElementById("bio" + userId).textContent =
                            user.bio;
                        document.getElementById(
                            "pronouns" + userId
                        ).textContent = user.pronouns;
                        document.getElementById("image" + userId).src =
                            user.image;
                    }
                });
            }

            // Display data for the hardcoded user IDs
            displayUserData("JZbU8EL0KHQYqG58Q8g3OePZPoY2");
            displayUserData("YzZe1bxjonYv4Nt7ZnMmcSCMhOe2");

            // Add similar error handling for User 2
        </script>
    </body>
</html>
